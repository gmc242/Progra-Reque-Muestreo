@model Progra_Reque_Muestreo.Models.Consolidado
<h2>@ViewBag.Titulo</h2>

@{
    //----------Variables Tabla Resumen------------------
    var tablaResumen = ViewData["TablaResumen"] as List<Tuple<string, string, string, string, string>>;
    var nResum = ViewData["nResumen"];
    //----------Variables Tabla Tareas--------------------
    var tareasGeneral = ViewData["TareasGeneral"] as List<Tuple<string, string, string>>;
    var tareasResumen = ViewData["TareasResumen"] as List<Tuple<string, string, string,string>>;
    var totalGeneral = ViewData["totalGeneral"];
    //----------Variables Tareas Productivas-----------
    var tareasProductivas = ViewData["TareasProductivas"] as List<Tuple<string, string, string>>; ;
    var totalProductivas = ViewData["totalProductivas"];
    //----------Variables Tareas Colaborativas-----------
    var tareasColaborativas = ViewData["TareasColaborativas"] as List<Tuple<string, string, string>>; ;
    var totalColaborativas = ViewData["totalColaborativas"];
    //----------Variables Tareas Improductivas-----------
    var tareasImproductivas = ViewData["TareasImproductivas"] as List<Tuple<string, string, string>>; 
    var totalImproductivas = ViewData["totalImproductivas"];


<div class="jumbotron">
    <h2>Resumen de Datos</h2>
    <table class="table-bordered">
        <tr>
            <th style="text-align:center;">Día</th>
            <th style="text-align:center;">Días de Muestreo</th>
            <th style="text-align:center;">Productividad</th>
            <th style="text-align:center;">Improductividad</th>
            <th style="text-align:center;">Observaciones</th>
        </tr>
        @{
            foreach (Tuple<string, string, string, string, string> tupla in tablaResumen)
            {
                <tr>
                    <td style="text-align:center;">@tupla.Item1</td>
                    <td style="text-align:center;">@tupla.Item2</td>
                    <td style="text-align:center;">@tupla.Item3</td>
                    <td style="text-align:center;">@tupla.Item4</td>
                    <td style="text-align:center;">@tupla.Item5</td>
                </tr>
            }
            <tr>
                <td style="text-align:center;"> </td>
                <td style="text-align:center;"> </td>
                <td style="text-align:center;"> </td>
                <td style="text-align:center;"> </td>
                <td style="text-align:center;">@nResum</td>
            </tr>
        }
    </table>
    <img src="@Url.Action("GraficoDatosResumen")" alt="SimpleChart" />

</div>
<div class="jumbotron">
    <h2>Tareas</h2>
    <table class="table-bordered">
        <tr>
            <th style="text-align:center;">Clasificación</th>
            <th style="text-align:center;">Tarea</th>
            <th style="text-align:center;">Total</th>
            <th style="text-align:center;">Porcentaje</th>
        </tr>
        @{
            foreach (Tuple<string, string, string> tupla in tareasGeneral)
            {
                float temp = Int32.Parse(tupla.Item3);
                float tot = Int32.Parse(totalGeneral.ToString());
                float porc = (temp / tot) * 100;

                <tr>
                    <td style="text-align:center;">@tupla.Item1</td>
                    <td style="text-align:center;">@tupla.Item2</td>
                    <td style="text-align:center;">@tupla.Item3</td>
                    <td style="text-align:center;">@porc %</td>
                </tr>
            }
            <tr>
                <td style="text-align:center;"> </td>
                <td style="text-align:end;"> Total</td>
                <td style="text-align:center;">@totalGeneral</td>
                <td style="text-align:center;">100%</td>
            </tr>
        }
    </table>
    <br />
    <h2>Resumen de Tareas</h2>
    <table class="table-bordered">
        <tr>
            <th style="text-align:center;">Clasificación</th>
            <th style="text-align:center;">Tarea</th>
            <th style="text-align:center;">Total</th>
            <th style="text-align:center;">Porcentaje</th>
        </tr>
        @{
            foreach (Tuple<string, string, string,string> tupla in tareasResumen)
            {
                <tr>
                    <td style="text-align:center;">@tupla.Item1</td>
                    <td style="text-align:center;">@tupla.Item2</td>
                    <td style="text-align:center;">@tupla.Item3</td>
                    <td style="text-align:center;">@tupla.Item4 %</td>
                </tr>
            }
                <tr>
                    <td style="text-align:center;"> </td>
                    <td style="text-align:end;"> Total</td>
                    <td style="text-align:center;">@totalGeneral</td>
                    <td style="text-align:center;">100%</td>
                </tr>
        }
    </table>
    <img src="@Url.Action("GraficoResumenTareas")" alt="SimpleChart" />
</div>
<div class="jumbotron">
    <h2>Tareas Productivas</h2>
    <table class="table-bordered">
        <tr>
            <th style="text-align:center;">Clasificación</th>
            <th style="text-align:center;">Tarea</th>
            <th style="text-align:center;">Total</th>
            <th style="text-align:center;">Porcentaje</th>
        </tr>
        @{
            foreach (Tuple<string, string, string> tupla in tareasProductivas)
            {
                float temp = Int32.Parse(tupla.Item3);
                float tot = Int32.Parse(totalProductivas.ToString());
                float porc = (temp / tot) * 100;

                <tr>
                    <td style="text-align:center;">@tupla.Item1</td>
                    <td style="text-align:center;">@tupla.Item2</td>
                    <td style="text-align:center;">@tupla.Item3</td>
                    <td style="text-align:center;">@porc %</td>
                </tr>
            }
            <tr>
                <td style="text-align:center;"> </td>
                <td style="text-align:end;"> Total</td>
                <td style="text-align:center;">@totalProductivas</td>
                <td style="text-align:center;">100%</td>
            </tr>
        }
    </table>
    <img src="@Url.Action("GraficoProductivas")" alt="SimpleChart" />
</div>
<div class="jumbotron">
    <h2>Tareas Colaborativas</h2>
    <table class="table-bordered">
        <tr>
            <th style="text-align:center;">Clasificación</th>
            <th style="text-align:center;">Tarea</th>
            <th style="text-align:center;">Total</th>
            <th style="text-align:center;">Porcentaje</th>
        </tr>
        @{
            foreach (Tuple<string, string, string> tupla in tareasColaborativas)
            {
                float temp = Int32.Parse(tupla.Item3);
                float tot = Int32.Parse(totalColaborativas.ToString());
                float porc = (temp / tot) * 100;

                <tr>
                    <td style="text-align:center;">@tupla.Item1</td>
                    <td style="text-align:center;">@tupla.Item2</td>
                    <td style="text-align:center;">@tupla.Item3</td>
                    <td style="text-align:center;">@porc %</td>
                </tr>
            }
            <tr>
                <td style="text-align:center;"> </td>
                <td style="text-align:end;"> Total</td>
                <td style="text-align:center;">@totalColaborativas</td>
                <td style="text-align:center;">100%</td>
            </tr>
        }
    </table>
    <img src="@Url.Action("GraficoColaborativas")" alt="SimpleChart" />
</div>
<div class="jumbotron">
    <h2>Tareas Improductivas</h2>
    <table class="table-bordered">
        <tr>
            <th style="text-align:center;">Clasificación</th>
            <th style="text-align:center;">Tarea</th>
            <th style="text-align:center;">Total</th>
            <th style="text-align:center;">Porcentaje</th>
        </tr>
        @{
            foreach (Tuple<string, string, string> tupla in tareasImproductivas)
            {
                float temp = Int32.Parse(tupla.Item3);
                float tot = Int32.Parse(totalImproductivas.ToString());
                float porc = (temp / tot) * 100;

                <tr>
                    <td style="text-align:center;">@tupla.Item1</td>
                    <td style="text-align:center;">@tupla.Item2</td>
                    <td style="text-align:center;">@tupla.Item3</td>
                    <td style="text-align:center;">@porc %</td>
                </tr>
            }
            <tr>
                <td style="text-align:center;"> </td>
                <td style="text-align:end;"> Total</td>
                <td style="text-align:center;">@totalImproductivas</td>
                <td style="text-align:center;">100%</td>
            </tr>
        }
    </table>
    <img src="@Url.Action("GraficoImproductivas")" alt="SimpleChart" />
</div>
}